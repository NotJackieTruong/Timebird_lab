<!DOCTYPE html>
<html>

<head>
  <link rel='stylesheet' href='/stylesheets/style.css' />

  <style>
    .accepted-games-container {
      /* padding: 0 24px; */
      display: flex;
      flex-direction: column;
    }

    table#submitting-game-table tbody th {
      vertical-align: middle;
    }

    table#submitting-game-table tbody .game-cover {
      width: 131px;
    }

    table#submitting-game-table th,
    td {
      max-width: 190px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  </style>
</head>

<body>
  <div id="phasebeam">
    <canvas width="100%" height="100%"></canvas>
    <canvas width="100%" height="100%"></canvas>
    <canvas width="100%" height="100%"></canvas>
    <%- include('./header') %>
    <div class="page-body">
      <div class="container">
        <div class="row">
          <div class="col-2">
            <%- include('./sidebar') %>
          </div>
          <div class="col">
            <div class="page-content">
              <h3><strong>Accepted games</strong></h3>
              <p>Please fill in the form below to use advance features of the website!</p>
              <table class="table table-dark table-hover table-responsive-md btn-table" id="submitting-game-table">
                <thead>
                  <tr>
                    <th id="cover">Game cover</th>
                    <th id="name">Name</th>
                    <th id="createdAt">Submitting date</th>
                    <th id="url">URL</th>
                    <th id="creator">Creator</th>
                  </tr>
                </thead>

                <tbody></tbody>

              </table>

            </div>

          </div>
          <div class="col-2"></div>

        </div>

      </div>


      <%- include('./footer') %>

    </div>

    <script type="module" src="/cropper/cropper.js"></script>
    <script type="module">
      import { createGameList } from '/createGameList.js'
      import { createGameTable } from '/createGameTable.js'

      var gameList = JSON.parse('<%- JSON.stringify(gameList)%>')
      console.log('game list: ', gameList)
      if (gameList.length !== 0) {
        createGameTable(gameList, '#submitting-game-table tbody')
      }

    </script>

</body>

</html>